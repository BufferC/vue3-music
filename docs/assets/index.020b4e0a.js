import{a as u,d as y,t as g,w as _,o as P,b as v,c as A,r as w,e as E,f as L,g as I,h as S,l as c,i as T,j as k,k as D}from"./vendor.3a968c7d.js";const O=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}};O();u.defaults.baseURL="http://127.0.0.1:3000";u.defaults.timeout=20*1e3;u.defaults.maxBodyLength=5*1024*1024;u.interceptors.request.use(t=>t,function(t){return Promise.reject(t)});u.interceptors.response.use(t=>t,function(t){return Promise.reject(t)});const o={get(t,e){return new Promise((i,n)=>{u.get(t,{params:e}).then(s=>{i(s.data)}).catch(s=>{n(s.data)})})},post(t,e){return new Promise((i,n)=>{u.post(t,JSON.stringify(e)).then(s=>{i(s.data)}).catch(s=>{n(s.data)})})},put(t,e){return new Promise((i,n)=>{u.put(t,JSON.stringify(e)).then(s=>{i(s.data)}).catch(s=>{n(s.data)})})},delete(t,e){return new Promise((i,n)=>{u.delete(t,{params:e}).then(s=>{i(s.data)}).catch(s=>{n(s.data)})})},upload(t,e){return new Promise((i,n)=>{u.post(t,e,{headers:{"Content-Type":"multipart/form-data"}}).then(s=>{i(s.data)}).catch(s=>{n(s.data)})})},download(t){const e=document.createElement("iframe");e.style.display="none",e.src=t,e.onload=function(){document.body.removeChild(e)},document.body.appendChild(e)}};async function R(t){const{data:e}=await o.get("/song/url",{id:t});return e.first()}async function b(t){const{songs:e}=await o.get("/song/detail",{ids:t});return e.first()}async function Y(){const{banners:t}=await o.get("/banner",{type:1});return t}async function z(){const{result:t}=await o.get("/personalized");return t}async function j(){const{result:t}=await o.get("/personalized/newsong");return t}async function F(t,e=8){const{playlist:i}=await o.get("/playlist/detail",{id:t,s:e});return i}async function $(t){const{songs:e}=await o.get("playlist/track/all",{id:t});return e}async function q(){const{list:t}=await o.get("/toplist/detail");return t}async function H(t){return(await o.get("artist/list",{type:t.type,area:t.area,initial:t.initial,limit:t.limit,offset:(t.page-1)*t.limit})).artists}async function J(t){const{data:e}=await o.get("artist/detail",{id:t});return e}async function K(t){return await o.get("artist/desc",{id:t})}async function W(t,e="time",i=10,n=0){return await o.get("artist/songs",{id:t,order:e,limit:i,offset:n})}async function G(t,e=10,i=0){return await o.get("artist/album",{id:t,limit:e,offset:i})}async function Q(t,e=10,i=0){return await o.get("artist/mv",{id:t,limit:e,offset:i})}const V={volume:"PLAYER-VOLUME"},p=y({id:"player",state:()=>{var t;return{audio:new Audio,loopType:0,volume:((t=localStorage.getItem(V.volume))==null?void 0:t.toInt())||60,playList:[],id:0,url:"",songUrl:{},song:{},isPlaying:!1,isPause:!1,sliderInput:!1,ended:!1,muted:!1,currentTime:0,duration:0}},actions:{init(){this.audio.volume=this.volume/100},async play(t){if(t==this.id)return;this.isPlaying=!1,this.id=t,this.songDetail();const e=await R(t);this.songUrl=e,this.url=e.url,this.id=t,this.audio.src=this.url,this.audio.play().then(i=>{this.isPlaying=!0}).catch(i=>{})},playEnd(){console.log("\u64AD\u653E\u7ED3\u675F")},async songDetail(){this.song=await b(this.id)},next(){this.play(1909651843)},prev(){},togglePlay(){!this.song.id||(this.isPlaying=!this.isPlaying,this.isPlaying?(this.audio.play(),this.isPause=!1):(this.audio.pause(),this.isPause=!0))},toggleLoop(){this.loopType==2?this.loopType=0:this.loopType++},toggleMuted(){this.muted=!this.muted,this.audio.muted=this.muted},setVolume(t){t=t>100?100:t,t=t<0?0:t,this.volume=t,this.audio.volume=t/100,localStorage.setItem("PLAYER-VOLUME",t.toString())},onSliderChange(t){this.currentTime=t,this.sliderInput=!1,this.audio.currentTime=t},onSliderInput(t){this.sliderInput=!0},interval(){this.isPlaying&&!this.sliderInput&&(this.currentTime=parseInt(this.audio.currentTime.toString()),this.duration=parseInt(this.audio.duration.toString()),this.ended=this.audio.ended)}}}),C=()=>{let t;const{init:e,interval:i,playEnd:n}=p(),{ended:s}=g(p());_(()=>s,r=>{n()}),P(()=>{e(),console.log("\u542F\u52A8\u5B9A\u65F6\u5668"),t=setInterval(i,1e3)}),v(()=>{console.log("\u6E05\u9664\u5B9A\u65F6\u5668"),clearInterval(t)})},x=A({setup(t){return C(),(e,i)=>{const n=w("RouterView");return E(),L(n)}}}),B="modulepreload",m={},M="/",l=function(e,i){return!i||i.length===0?e():Promise.all(i.map(n=>{if(n=`${M}${n}`,n in m)return;m[n]=!0;const s=n.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${r}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":B,s||(a.as="script",a.crossOrigin=""),a.href=n,document.head.appendChild(a),s)return new Promise((h,f)=>{a.addEventListener("load",h),a.addEventListener("error",f)})})).then(()=>e())},N=I({history:S("/"),routes:[{path:"/",name:"home",component:()=>l(()=>import("./Root.61250e46.js"),["assets/Root.61250e46.js","assets/Root.d4e75ef0.css","assets/base.d0d60045.js","assets/base.41573f0d.css","assets/vendor.3a968c7d.js","assets/number.397026a5.js","assets/Fm.4aae978a.js","assets/PlayTwo.dfccce23.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/event.4b05a53a.js","assets/el-avatar.2290ea88.js","assets/el-avatar.00087837.css","assets/index.720f3c6a.js","assets/index.248c2196.js","assets/Play.b799d7b3.js"]),redirect:{name:"music"},children:[{path:"discover",name:"discover",component:()=>l(()=>import("./Discover.5eb66cea.js"),["assets/Discover.5eb66cea.js","assets/vendor.3a968c7d.js","assets/CoverPlay.07b42d22.js","assets/CoverPlay.33350ebd.css","assets/base.d0d60045.js","assets/base.41573f0d.css","assets/el-image-viewer.dc9f7f0e.js","assets/el-image-viewer.07fde959.css","assets/index.248c2196.js","assets/close.906d75c0.js","assets/scroll.b663a008.js","assets/number.397026a5.js","assets/PlayOne.3a6f4a81.js","assets/Play.b799d7b3.js","assets/music.1fcffce2.js","assets/Banner.1db58eda.js","assets/Banner.352f170c.css","assets/plugin-vue_export-helper.21dcd24c.js"]),meta:{menu:"discover",keepAlive:!0}},{path:"music",name:"music",component:()=>l(()=>import("./Music.255b16b6.js"),["assets/Music.255b16b6.js","assets/Music.e9b17b81.css","assets/base.d0d60045.js","assets/base.41573f0d.css","assets/vendor.3a968c7d.js","assets/el-tab-pane.7102dc21.js","assets/el-tab-pane.29573fb9.css","assets/event.4b05a53a.js","assets/close.906d75c0.js","assets/scroll.b663a008.js"]),redirect:{name:"picked"},meta:{menu:"music"},children:[{path:"picked",name:"picked",component:()=>l(()=>import("./Picked.5bbaf732.js"),["assets/Picked.5bbaf732.js","assets/Banner.1db58eda.js","assets/Banner.352f170c.css","assets/vendor.3a968c7d.js","assets/plugin-vue_export-helper.21dcd24c.js"]),meta:{menu:"music",keepAlive:!0}},{path:"toplist",name:"toplist",component:()=>l(()=>import("./TopList.305363cf.js"),["assets/TopList.305363cf.js","assets/vendor.3a968c7d.js","assets/CoverPlay.07b42d22.js","assets/CoverPlay.33350ebd.css","assets/base.d0d60045.js","assets/base.41573f0d.css","assets/el-image-viewer.dc9f7f0e.js","assets/el-image-viewer.07fde959.css","assets/index.248c2196.js","assets/close.906d75c0.js","assets/scroll.b663a008.js","assets/number.397026a5.js","assets/PlayOne.3a6f4a81.js","assets/Play.b799d7b3.js","assets/music.1fcffce2.js"]),meta:{menu:"music",keepAlive:!0}},{path:"artist",name:"artist",component:()=>l(()=>import("./Artist.83bdaaea.js"),["assets/Artist.83bdaaea.js","assets/Artist.84fb0f1a.css","assets/base.d0d60045.js","assets/base.41573f0d.css","assets/vendor.3a968c7d.js","assets/el-button.c1edbf64.js","assets/el-button.2daf4826.css","assets/index.720f3c6a.js","assets/el-image-viewer.dc9f7f0e.js","assets/el-image-viewer.07fde959.css","assets/index.248c2196.js","assets/close.906d75c0.js","assets/scroll.b663a008.js","assets/plugin-vue_export-helper.21dcd24c.js"]),meta:{menu:"music",title:"\u6B4C\u624B",keepAlive:!0}}]},{path:"playlist",name:"playlist",component:()=>l(()=>import("./PlayList.fcca3382.js"),["assets/PlayList.fcca3382.js","assets/PlayList.1f8f2eb4.css","assets/base.d0d60045.js","assets/base.41573f0d.css","assets/vendor.3a968c7d.js","assets/el-tab-pane.7102dc21.js","assets/el-tab-pane.29573fb9.css","assets/event.4b05a53a.js","assets/close.906d75c0.js","assets/el-button.c1edbf64.js","assets/el-button.2daf4826.css","assets/index.720f3c6a.js","assets/el-avatar.2290ea88.js","assets/el-avatar.00087837.css","assets/number.397026a5.js","assets/SongListItem.9ba42e74.js","assets/SongListItem.567efb89.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/PlayTwo.dfccce23.js","assets/PlayOne.3a6f4a81.js"])},{path:"artistDetail",name:"artistDetail",component:()=>l(()=>import("./ArtistDetail.f2b3800a.js"),["assets/ArtistDetail.f2b3800a.js","assets/ArtistDetail.3bc343f2.css","assets/base.d0d60045.js","assets/base.41573f0d.css","assets/vendor.3a968c7d.js","assets/el-tab-pane.7102dc21.js","assets/el-tab-pane.29573fb9.css","assets/event.4b05a53a.js","assets/close.906d75c0.js","assets/el-button.c1edbf64.js","assets/el-button.2daf4826.css","assets/index.720f3c6a.js","assets/number.397026a5.js","assets/Fm.4aae978a.js","assets/SongListItem.9ba42e74.js","assets/SongListItem.567efb89.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/PlayTwo.dfccce23.js","assets/PlayOne.3a6f4a81.js","assets/el-image-viewer.dc9f7f0e.js","assets/el-image-viewer.07fde959.css","assets/index.248c2196.js","assets/scroll.b663a008.js","assets/CoverPlay.07b42d22.js","assets/CoverPlay.33350ebd.css","assets/Play.b799d7b3.js"])}]}]});Array.prototype.first=function(){return c.exports.first(this)};Array.prototype.sampleSize=function(t){return c.exports.sampleSize(this,t)};Array.prototype.chunk=function(t){return c.exports.chunk(this,t)};String.prototype.toInt=function(){return parseInt(this)};Number.prototype.toDate=function(t="YYYY-MM-DD"){return T(this).format(t)};const d=k(x);d.use(D());d.use(N);d.mount("#app");export{Y as a,q as b,z as c,j as d,H as e,F as f,$ as g,K as h,W as i,G as j,Q as k,J as l,p as u};
