import{c as x,D as d,g as s,h as n,I as y,H as r,i as l,m as $,L as F,j as a,G as w,k as v,u as p,n as C,e as L,q as D,l as B,a3 as P,C as V,o as S,_ as z,$ as N}from"./vendor.3ad19a93.js";/* empty css                    */import{a as j,o as M,p as T}from"./index.8cbd7283.js";/* empty css                  */import{_ as b}from"./IconPark.a6d87f82.js";import{M as I,S as U}from"./SongListItem.9028b422.js";import{P as q}from"./PlayOne.13d62539.js";import{L as G}from"./PlayTwo.d47d239b.js";import"./plugin-vue_export-helper.21dcd24c.js";const H={class:"leading-5"},O={key:0},R={key:1},J=x({props:{text:null,end:null},setup(t){const c=t,i=d(!1),e=d(!1);return c.text&&c.text.length>c.end&&(i.value=!0),(o,u)=>(s(),n("div",H,[i.value?(s(),n(y,{key:0},[e.value?(s(),n("span",R,r(t.text)+"...",1)):(s(),n("span",O,r(t.text.substring(0,t.end))+"...",1)),l("span",{class:"ml-5 text-gray-700 hover-text",onClick:u[0]||(u[0]=f=>e.value=!e.value)},"["+r(e.value?"\u6536\u8D77":"\u8BE6\u60C5")+"]",1)],64)):(s(),n(y,{key:1},[$(r(t.text),1)],64))]))}}),K={class:"flex items-stretch"},Q=["src"],W={class:"pl-5 flex flex-col justify-between py-1 flex-1"},X={class:"text-2xl font-bold"},Y={class:"flex items-center text-xs text-dc pb-2 pt-3"},Z={class:"ml-2"},tt={class:"ml-5 flex text-dc"},et={class:"text-xs text-gray-500 leading-normal"},st={class:"justify-self-stretch mt-5 gap-x-2 flex items-center"},lt=l("span",null,"\u64AD\u653E\u5168\u90E8",-1),at=l("span",null,"\u6536\u85CF",-1),nt=x({props:{playlist:null,playAll:null},setup(t){return(c,i)=>{const e=F,o=C;return s(),n("div",K,[l("img",{src:t.playlist.coverImgUrl,alt:"",class:"w-44 h-44 object-cover rounded-xl flex-shrink-0"},null,8,Q),l("div",W,[l("div",null,[l("div",X,r(t.playlist.name),1),l("div",Y,[a(e,{src:t.playlist.creator.avatarUrl,size:"small",round:""},null,8,["src"]),l("span",Z,r(t.playlist.creator.nickname),1),l("div",tt,[(s(!0),n(y,null,w(t.playlist.tags,u=>(s(),n("div",{class:"ml-2 hover-text",key:u},"#"+r(u),1))),128))])]),l("div",et,[a(J,{text:t.playlist.description,end:90},null,8,["text"])])]),l("div",st,[a(o,{class:"w-32 border-0 text-white",round:"",type:"primary",onClick:t.playAll},{default:v(()=>[a(b,{icon:p(q),size:"22",class:"mr-1"},null,8,["icon"]),lt]),_:1},8,["onClick"]),a(o,{class:"w-32",plain:"",secondary:"",round:""},{default:v(()=>[a(b,{icon:p(G),size:"18",class:"mr-1"},null,8,["icon"]),at]),_:1}),a(o,{circle:"",class:"bg-gray-100",plain:"",secondary:"",icon:p(I)},null,8,["icon"])])])])}}}),ot={class:"mt-2"},ct=P('<div class="flex text-xs text-gray-400 py-2"><div class="flex-auto">\u6B4C\u66F2</div><div class="w-1/4">\u6B4C\u624B</div><div class="w-1/4">\u4E13\u8F91</div><div class="w-20">\u65F6\u957F</div></div>',1),it={class:"text-sm"},ut={key:0,class:"flex justify-center py-5"},rt=$("\u52A0\u8F7D\u66F4\u591A"),dt=x({props:{songs:null},setup(t){const c=t,i=d(10),e=d(1),o=L(()=>e.value-c.songs.length/i.value>=0),u=()=>{e.value=e.value+1};return(f,h)=>{const g=C;return s(),n("div",ot,[ct,l("div",it,[(s(!0),n(y,null,w(t.songs.slice(0,i.value*e.value),_=>(s(),D(U,{key:_.id,song:_,"show-ar-name":"","show-al-name":""},null,8,["song"]))),128))]),t.songs.length>i.value&&!p(o)?(s(),n("div",ut,[a(g,{type:"text",class:"text-center w-full",onClick:u},{default:v(()=>[rt]),_:1})])):B("",!0)])}}});const _t={class:"playlist"},mt={key:0,class:"p-5"},$t=x({setup(t){const c=d("tracks"),i=V(),e=d(),o=d([]),{pushPlayList:u,play:f}=j(),h=()=>{u(!0,...o.value),f(o.value.first().id)};return S(()=>{const _=Number(i.query.id);M(_).then(m=>{e.value=m}),T(_).then(m=>{o.value=m})}),(_,m)=>{const k=z,A=N;return s(),n("div",_t,[e.value?(s(),n("div",mt,[a(nt,{playlist:e.value,"play-all":()=>h()},null,8,["playlist","play-all"]),a(A,{class:"mt-3",modelValue:c.value,"onUpdate:modelValue":m[0]||(m[0]=E=>c.value=E)},{default:v(()=>[a(k,{lazy:"",label:`\u6B4C\u66F2 ${o.value.length}`,name:"tracks"},{default:v(()=>[a(dt,{songs:o.value},null,8,["songs"])]),_:1},8,["label"]),a(k,{lazy:"",label:"\u8BC4\u8BBA",name:"comments"})]),_:1},8,["modelValue"])])):B("",!0)])}}});export{$t as default};
