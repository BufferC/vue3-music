import{c as h,C as _,g as s,h as n,H as f,G as d,i as l,m as k,K as C,j as a,F as b,k as v,u as y,n as $,e as F,q as E,l as w,a1 as V,B as D,o as L,Y as z,Z as A}from"./vendor.b54c9bc6.js";/* empty css                    */import{k as N,l as P}from"./index.5e91f8b7.js";/* empty css                  */import{_ as g}from"./number.0a52e3ef.js";import{M as S,S as j}from"./SongListItem.39807693.js";import{P as M}from"./PlayOne.1578a022.js";import{L as T}from"./PlayTwo.f3906c9f.js";import"./plugin-vue_export-helper.21dcd24c.js";const U={class:"leading-5"},q={key:0},I={key:1},G=h({props:{text:null,end:null},setup(e){const c=e,i=_(!1),t=_(!1);return c.text&&c.text.length>c.end&&(i.value=!0),(o,u)=>(s(),n("div",U,[i.value?(s(),n(f,{key:0},[t.value?(s(),n("span",I,d(e.text)+"...",1)):(s(),n("span",q,d(e.text.substring(0,e.end))+"...",1)),l("span",{class:"ml-5 text-gray-700 hover-text",onClick:u[0]||(u[0]=m=>t.value=!t.value)},"["+d(t.value?"\u6536\u8D77":"\u8BE6\u60C5")+"]",1)],64)):(s(),n(f,{key:1},[k(d(e.text),1)],64))]))}}),H={class:"flex items-stretch"},K=["src"],O={class:"pl-5 flex flex-col justify-between py-1 flex-1"},R={class:"text-2xl font-bold"},Y={class:"flex items-center text-xs text-gray-600 pb-2 pt-3"},Z={class:"ml-2"},J={class:"ml-5 flex text-gray-500"},Q={class:"text-xs text-gray-500 leading-normal"},W={class:"justify-self-stretch mt-5 gap-x-2 flex items-center"},X=l("span",null,"\u64AD\u653E\u5168\u90E8",-1),ee=l("span",null,"\u6536\u85CF",-1),te=h({props:{playlist:null},setup(e){return(c,i)=>{const t=C,o=$;return s(),n("div",H,[l("img",{src:e.playlist.coverImgUrl,alt:"",class:"w-44 h-44 object-cover rounded-xl flex-shrink-0"},null,8,K),l("div",O,[l("div",null,[l("div",R,d(e.playlist.name),1),l("div",Y,[a(t,{src:e.playlist.creator.avatarUrl,size:"small",round:""},null,8,["src"]),l("span",Z,d(e.playlist.creator.nickname),1),l("div",J,[(s(!0),n(f,null,b(e.playlist.tags,u=>(s(),n("div",{class:"ml-2 hover-text",key:u},"#"+d(u),1))),128))])]),l("div",Q,[a(G,{text:e.playlist.description,end:90},null,8,["text"])])]),l("div",W,[a(o,{class:"w-32 bg-emerald-500 border-0 text-white",round:"",type:"primary"},{default:v(()=>[a(g,{icon:y(M),size:"22",class:"mr-1"},null,8,["icon"]),X]),_:1}),a(o,{class:"w-32 bg-gray-100",secondary:"",round:""},{default:v(()=>[a(g,{icon:y(T),size:"18",class:"mr-1"},null,8,["icon"]),ee]),_:1}),a(o,{circle:"",class:"bg-gray-100",secondary:"",icon:y(S)},null,8,["icon"])])])])}}}),se={class:"mt-2"},le=V('<div class="flex text-xs text-gray-400 py-2"><div class="flex-auto">\u6B4C\u66F2</div><div class="w-1/4">\u6B4C\u624B</div><div class="w-1/4">\u4E13\u8F91</div><div class="w-20">\u65F6\u957F</div></div>',1),ae={class:"text-sm"},ne={key:0,class:"flex justify-center py-5"},oe=k("\u52A0\u8F7D\u66F4\u591A"),ce=h({props:{songs:null},setup(e){const c=e,i=_(10),t=_(1),o=F(()=>t.value-c.songs.length/i.value>=0),u=()=>{t.value=t.value+1};return(m,r)=>{const x=$;return s(),n("div",se,[le,l("div",ae,[(s(!0),n(f,null,b(e.songs.slice(0,i.value*t.value),p=>(s(),E(j,{key:p.id,song:p,"show-ar-name":"","show-al-name":""},null,8,["song"]))),128))]),e.songs.length>i.value&&!y(o)?(s(),n("div",ne,[a(x,{type:"text",class:"text-center w-full",onClick:u},{default:v(()=>[oe]),_:1})])):w("",!0)])}}});const ie={class:"playlist"},ue={key:0,class:"p-5"},he=h({setup(e){const c=_("tracks"),i=D(),t=_(),o=_([]);return L(()=>{const m=Number(i.query.id);N(m).then(r=>{t.value=r}),P(m).then(r=>{o.value=r})}),(m,r)=>{const x=z,p=A;return s(),n("div",ie,[t.value?(s(),n("div",ue,[a(te,{playlist:t.value},null,8,["playlist"]),a(p,{class:"mt-3",modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=B=>c.value=B)},{default:v(()=>[a(x,{lazy:"",label:`\u6B4C\u66F2 ${o.value.length}`,name:"tracks"},{default:v(()=>[a(ce,{songs:o.value},null,8,["songs"])]),_:1},8,["label"]),a(x,{lazy:"",label:"\u8BC4\u8BBA",name:"comments"})]),_:1},8,["modelValue"])])):w("",!0)])}}});export{he as default};
