var He=Object.defineProperty,Be=Object.defineProperties;var xe=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var Ye=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable;var ye=(e,t,n)=>t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,se=(e,t)=>{for(var n in t||(t={}))Ye.call(t,n)&&ye(e,n,t[n]);if(we)for(var n of we(t))je.call(t,n)&&ye(e,n,t[n]);return e},_e=(e,t)=>Be(e,xe(t));import{c as O,e as p,m as C,n as f,p as _,v as Te,a8 as Xe,B as y,af as $e,ag as Ge,w as ce,D as ke,o as Le,r as E,f as ue,P as m,N as k,K as w,Q as Ze,I as M,J as de,O as Je,a5 as Ke,G as We,H as Ue,S as fe,L as ee,U as qe,a0 as Qe,A as et,R as tt,M as nt}from"./vendor.3a968c7d.js";import{i as H,_ as x,q as at,c as Ee,d as he,m as Me,f as rt,u as Oe,e as Ne,g as Ae,h as B,E as F,w as De,a as ot,l as st,r as it}from"./base.d0d60045.js";import{S as be,i as me,c as pe,e as lt,r as Re,d as ct,a as ut,b as dt,u as ft}from"./index.248c2196.js";import{c as ht,a as mt,b as pt}from"./close.906d75c0.js";import{g as vt}from"./scroll.b663a008.js";function gt(e,t){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=t(e[n],n,e);return s}var wt=Array.isArray,ve=wt,yt=1/0,Ce=be?be.prototype:void 0,Ie=Ce?Ce.toString:void 0;function Pe(e){if(typeof e=="string")return e;if(ve(e))return gt(e,Pe)+"";if(me(e))return Ie?Ie.call(e):"";var t=e+"";return t=="0"&&1/e==-yt?"-0":t}var _t="[object AsyncFunction]",$t="[object Function]",bt="[object GeneratorFunction]",Ct="[object Proxy]";function It(e){if(!pe(e))return!1;var t=lt(e);return t==$t||t==bt||t==_t||t==Ct}var zt=Re["__core-js_shared__"],ie=zt,ze=function(){var e=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function St(e){return!!ze&&ze in e}var Tt=Function.prototype,kt=Tt.toString;function Lt(e){if(e!=null){try{return kt.call(e)}catch{}try{return e+""}catch{}}return""}var Et=/[\\^$.*+?()[\]{}|]/g,Mt=/^\[object .+?Constructor\]$/,Ot=Function.prototype,Nt=Object.prototype,At=Ot.toString,Dt=Nt.hasOwnProperty,Rt=RegExp("^"+At.call(Dt).replace(Et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pt(e){if(!pe(e)||St(e))return!1;var t=It(e)?Rt:Mt;return t.test(Lt(e))}function Vt(e,t){return e==null?void 0:e[t]}function Ve(e,t){var n=Vt(e,t);return Pt(n)?n:void 0}function Ft(e,t){return e===t||e!==e&&t!==t}var Ht=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bt=/^\w*$/;function xt(e,t){if(ve(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||me(e)?!0:Bt.test(e)||!Ht.test(e)||t!=null&&e in Object(t)}var Yt=Ve(Object,"create"),K=Yt;function jt(){this.__data__=K?K(null):{},this.size=0}function Xt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Gt="__lodash_hash_undefined__",Zt=Object.prototype,Jt=Zt.hasOwnProperty;function Kt(e){var t=this.__data__;if(K){var n=t[e];return n===Gt?void 0:n}return Jt.call(t,e)?t[e]:void 0}var Wt=Object.prototype,Ut=Wt.hasOwnProperty;function qt(e){var t=this.__data__;return K?t[e]!==void 0:Ut.call(t,e)}var Qt="__lodash_hash_undefined__";function en(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=K&&t===void 0?Qt:t,this}function R(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}R.prototype.clear=jt;R.prototype.delete=Xt;R.prototype.get=Kt;R.prototype.has=qt;R.prototype.set=en;function tn(){this.__data__=[],this.size=0}function te(e,t){for(var n=e.length;n--;)if(Ft(e[n][0],t))return n;return-1}var nn=Array.prototype,an=nn.splice;function rn(e){var t=this.__data__,n=te(t,e);if(n<0)return!1;var a=t.length-1;return n==a?t.pop():an.call(t,n,1),--this.size,!0}function on(e){var t=this.__data__,n=te(t,e);return n<0?void 0:t[n][1]}function sn(e){return te(this.__data__,e)>-1}function ln(e,t){var n=this.__data__,a=te(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}function Y(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}Y.prototype.clear=tn;Y.prototype.delete=rn;Y.prototype.get=on;Y.prototype.has=sn;Y.prototype.set=ln;var cn=Ve(Re,"Map"),un=cn;function dn(){this.size=0,this.__data__={hash:new R,map:new(un||Y),string:new R}}function fn(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ne(e,t){var n=e.__data__;return fn(t)?n[typeof t=="string"?"string":"hash"]:n.map}function hn(e){var t=ne(this,e).delete(e);return this.size-=t?1:0,t}function mn(e){return ne(this,e).get(e)}function pn(e){return ne(this,e).has(e)}function vn(e,t){var n=ne(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}function P(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}P.prototype.clear=dn;P.prototype.delete=hn;P.prototype.get=mn;P.prototype.has=pn;P.prototype.set=vn;var gn="Expected a function";function ge(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(gn);var n=function(){var a=arguments,s=t?t.apply(this,a):a[0],i=n.cache;if(i.has(s))return i.get(s);var v=e.apply(this,a);return n.cache=i.set(s,v)||i,v};return n.cache=new(ge.Cache||P),n}ge.Cache=P;var wn=500;function yn(e){var t=ge(e,function(a){return n.size===wn&&n.clear(),a}),n=t.cache;return t}var _n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$n=/\\(\\)?/g,bn=yn(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_n,function(n,a,s,i){t.push(s?i.replace($n,"$1"):a||n)}),t}),Cn=bn;function In(e){return e==null?"":Pe(e)}function zn(e,t){return ve(e)?e:xt(e,t)?[e]:Cn(In(e))}var Sn=1/0;function Tn(e){if(typeof e=="string"||me(e))return e;var t=e+"";return t=="0"&&1/e==-Sn?"-0":t}function kn(e,t){t=zn(t,e);for(var n=0,a=t.length;e!=null&&n<a;)e=e[Tn(t[n++])];return n&&n==a?e:void 0}function Ln(e,t,n){var a=e==null?void 0:kn(e,t);return a===void 0?n:a}var En="Expected a function";function le(e,t,n){var a=!0,s=!0;if(typeof e!="function")throw new TypeError(En);return pe(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),ct(e,t,{leading:a,maxWait:t,trailing:s})}const Mn=(e,t)=>{if(!H||!e||!t)return!1;const n=e.getBoundingClientRect();let a;return t instanceof Element?a=t.getBoundingClientRect():a={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<a.bottom&&n.bottom>a.top&&n.right>a.left&&n.left<a.right},On=O({name:"FullScreen"}),Nn={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},An=f("path",{fill:"currentColor",d:"M160 96.064l192 .192a32 32 0 010 64l-192-.192V352a32 32 0 01-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1164 0v191.936l192-.192a32 32 0 110 64l-192 .192zM864 96.064V96h64v256a32 32 0 11-64 0V160.064l-192 .192a32 32 0 110-64l192-.192zm0 831.872l-192-.192a32 32 0 010-64l192 .192V672a32 32 0 1164 0v256h-64v-.064z"},null,-1),Dn=[An];function Rn(e,t,n,a,s,i){return p(),C("svg",Nn,Dn)}var Pn=x(On,[["render",Rn]]);const Vn=O({name:"RefreshLeft"}),Fn={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Hn=f("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 010 64H232.96a32 32 0 01-32-32V179.712a32 32 0 0164 0v50.56a384 384 0 01643.84 282.88 384 384 0 01-383.936 384 384 384 0 01-384-384h64a320 320 0 10640 0 320 320 0 00-555.712-216.448z"},null,-1),Bn=[Hn];function xn(e,t,n,a,s,i){return p(),C("svg",Fn,Bn)}var Yn=x(Vn,[["render",xn]]);const jn=O({name:"RefreshRight"}),Xn={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Gn=f("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1164 0v149.056a32 32 0 01-32 32H667.52a32 32 0 110-64h92.992A320 320 0 10524.8 833.152a320 320 0 00320-320h64a384 384 0 01-384 384 384 384 0 01-384-384 384 384 0 01643.712-282.88z"},null,-1),Zn=[Gn];function Jn(e,t,n,a,s,i){return p(),C("svg",Xn,Zn)}var Kn=x(jn,[["render",Jn]]);const Wn=O({name:"ScaleToOriginal"}),Un={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qn=f("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0160.236 60.235v481.883a60.235 60.235 0 01-60.236 60.235H210.824a60.235 60.235 0 01-60.236-60.235V240.94a60.235 60.235 0 0160.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0090.353 240.94v481.883a120.47 120.47 0 00120.47 120.47h602.353a120.47 120.47 0 00120.471-120.47V240.94a120.47 120.47 0 00-120.47-120.47zm-120.47 180.705a30.118 30.118 0 00-30.118 30.118v301.177a30.118 30.118 0 0060.236 0V331.294a30.118 30.118 0 00-30.118-30.118zm-361.412 0a30.118 30.118 0 00-30.118 30.118v301.177a30.118 30.118 0 1060.236 0V331.294a30.118 30.118 0 00-30.118-30.118zM512 361.412a30.118 30.118 0 00-30.118 30.117v30.118a30.118 30.118 0 0060.236 0V391.53A30.118 30.118 0 00512 361.412zM512 512a30.118 30.118 0 00-30.118 30.118v30.117a30.118 30.118 0 0060.236 0v-30.117A30.118 30.118 0 00512 512z"},null,-1),Qn=[qn];function ea(e,t,n,a,s,i){return p(),C("svg",Un,Qn)}var ta=x(Wn,[["render",ea]]);const na=O({name:"ZoomIn"}),aa={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ra=f("path",{fill:"currentColor",d:"M795.904 750.72l124.992 124.928a32 32 0 01-45.248 45.248L750.656 795.904a416 416 0 1145.248-45.248zM480 832a352 352 0 100-704 352 352 0 000 704zm-32-384v-96a32 32 0 0164 0v96h96a32 32 0 010 64h-96v96a32 32 0 01-64 0v-96h-96a32 32 0 010-64h96z"},null,-1),oa=[ra];function sa(e,t,n,a,s,i){return p(),C("svg",aa,oa)}var ia=x(na,[["render",sa]]);const la=O({name:"ZoomOut"}),ca={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ua=f("path",{fill:"currentColor",d:"M795.904 750.72l124.992 124.928a32 32 0 01-45.248 45.248L750.656 795.904a416 416 0 1145.248-45.248zM480 832a352 352 0 100-704 352 352 0 000 704zM352 448h256a32 32 0 010 64H352a32 32 0 010-64z"},null,-1),da=[ua];function fa(e,t,n,a,s,i){return p(),C("svg",ca,da)}var ha=x(la,[["render",fa]]);const ma=()=>H&&/firefox/i.test(window.navigator.userAgent);var pa={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const va=e=>(t,n)=>ga(t,n,Te(e)),ga=(e,t,n)=>Ln(n,e,e).replace(/\{(\w+)\}/g,(a,s)=>{var i;return`${(i=t==null?void 0:t[s])!=null?i:`{${s}}`}`}),wa=e=>{const t=_(()=>Te(e).name),n=Xe(e)?e:y(e);return{lang:t,locale:n,t:va(e)}},Fe=()=>{const e=at("locale");return wa(_(()=>e.value||pa))},ya=Ee({urlList:{type:he(Array),default:()=>Me([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1}}),_a={close:()=>!0,switch:e=>typeof e=="number"},J={CONTAIN:{name:"contain",icon:$e(Pn)},ORIGINAL:{name:"original",icon:$e(ta)}},$a=ma()?"DOMMouseScroll":"mousewheel",ba=O({name:"ElImageViewer",components:{ElIcon:rt,Close:ht,ArrowLeft:mt,ArrowRight:pt,ZoomOut:ha,ZoomIn:ia,RefreshLeft:Yn,RefreshRight:Kn},props:ya,emits:_a,setup(e,{emit:t}){const{t:n}=Fe(),a=Oe("image-viewer"),{nextZIndex:s}=ut(),i=y(),v=y([]),d=Ge(),S=y(!0),$=y(e.initialIndex),T=y(J.CONTAIN),c=y({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),I=_(()=>{const{urlList:o}=e;return o.length<=1}),N=_(()=>$.value===0),u=_(()=>$.value===e.urlList.length-1),A=_(()=>e.urlList[$.value]),z=_(()=>{const{scale:o,deg:g,offsetX:r,offsetY:l,enableTransition:h}=c.value;let b=r/o,L=l/o;switch(g%360){case 90:case-270:[b,L]=[L,-b];break;case 180:case-180:[b,L]=[-b,-L];break;case 270:case-90:[b,L]=[-L,b];break}const V={transform:`scale(${o}) rotate(${g}deg) translate(${b}px, ${L}px)`,transition:h?"transform .3s":""};return T.value.name===J.CONTAIN.name&&(V.maxWidth=V.maxHeight="100%"),V}),W=_(()=>Ne(e.zIndex)?e.zIndex:s());function U(){j(),t("close")}function ae(){const o=le(r=>{switch(r.code){case F.esc:U();break;case F.space:G();break;case F.left:Z();break;case F.up:D("zoomIn");break;case F.right:Q();break;case F.down:D("zoomOut");break}}),g=le(r=>{(r.wheelDelta?r.wheelDelta:-r.detail)>0?D("zoomIn",{zoomRate:1.2,enableTransition:!1}):D("zoomOut",{zoomRate:1.2,enableTransition:!1})});d.run(()=>{B(document,"keydown",o),B(document,$a,g)})}function j(){d.stop()}function re(){S.value=!1}function oe(o){S.value=!1,o.target.alt=n("el.image.error")}function q(o){if(S.value||o.button!==0||!i.value)return;c.value.enableTransition=!1;const{offsetX:g,offsetY:r}=c.value,l=o.pageX,h=o.pageY,b=le(V=>{c.value=_e(se({},c.value),{offsetX:g+V.pageX-l,offsetY:r+V.pageY-h})}),L=B(document,"mousemove",b);B(document,"mouseup",()=>{L()}),o.preventDefault()}function X(){c.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function G(){if(S.value)return;const o=Object.keys(J),g=Object.values(J),r=T.value.name,h=(g.findIndex(b=>b.name===r)+1)%o.length;T.value=J[o[h]],X()}function Z(){if(N.value&&!e.infinite)return;const o=e.urlList.length;$.value=($.value-1+o)%o}function Q(){if(u.value&&!e.infinite)return;const o=e.urlList.length;$.value=($.value+1)%o}function D(o,g={}){if(S.value)return;const{zoomRate:r,rotateDeg:l,enableTransition:h}=se({zoomRate:1.4,rotateDeg:90,enableTransition:!0},g);switch(o){case"zoomOut":c.value.scale>.2&&(c.value.scale=parseFloat((c.value.scale/r).toFixed(3)));break;case"zoomIn":c.value.scale<7&&(c.value.scale=parseFloat((c.value.scale*r).toFixed(3)));break;case"clockwise":c.value.deg+=l;break;case"anticlockwise":c.value.deg-=l;break}c.value.enableTransition=h}return ce(A,()=>{ke(()=>{const o=v.value[0];(o==null?void 0:o.complete)||(S.value=!0)})}),ce($,o=>{X(),t("switch",o)}),Le(()=>{var o,g;ae(),(g=(o=i.value)==null?void 0:o.focus)==null||g.call(o)}),{index:$,wrapper:i,imgRefs:v,isSingle:I,isFirst:N,isLast:u,currentImg:A,imgStyle:z,mode:T,computedZIndex:W,handleActions:D,prev:Z,next:Q,hide:U,toggleMode:G,handleImgLoad:re,handleImgError:oe,handleMouseDown:q,ns:a}}}),Ca=["src"];function Ia(e,t,n,a,s,i){const v=E("close"),d=E("el-icon"),S=E("arrow-left"),$=E("arrow-right"),T=E("zoom-out"),c=E("zoom-in"),I=E("refresh-left"),N=E("refresh-right");return p(),ue(Qe,{to:"body",disabled:!e.teleported},[m(qe,{name:"viewer-fade",appear:""},{default:k(()=>[f("div",{ref:"wrapper",tabindex:-1,class:w(e.ns.e("wrapper")),style:fe({zIndex:e.computedZIndex})},[f("div",{class:w(e.ns.e("mask")),onClick:t[0]||(t[0]=Ze(u=>e.hideOnClickModal&&e.hide(),["self"]))},null,2),M(" CLOSE "),f("span",{class:w([e.ns.e("btn"),e.ns.e("close")]),onClick:t[1]||(t[1]=(...u)=>e.hide&&e.hide(...u))},[m(d,null,{default:k(()=>[m(v)]),_:1})],2),M(" ARROW "),e.isSingle?M("v-if",!0):(p(),C(de,{key:0},[f("span",{class:w([e.ns.e("btn"),e.ns.e("prev"),e.ns.is("disabled",!e.infinite&&e.isFirst)]),onClick:t[2]||(t[2]=(...u)=>e.prev&&e.prev(...u))},[m(d,null,{default:k(()=>[m(S)]),_:1})],2),f("span",{class:w([e.ns.e("btn"),e.ns.e("next"),e.ns.is("disabled",!e.infinite&&e.isLast)]),onClick:t[3]||(t[3]=(...u)=>e.next&&e.next(...u))},[m(d,null,{default:k(()=>[m($)]),_:1})],2)],64)),M(" ACTIONS "),f("div",{class:w([e.ns.e("btn"),e.ns.e("actions")])},[f("div",{class:w(e.ns.e("actions__inner"))},[m(d,{onClick:t[4]||(t[4]=u=>e.handleActions("zoomOut"))},{default:k(()=>[m(T)]),_:1}),m(d,{onClick:t[5]||(t[5]=u=>e.handleActions("zoomIn"))},{default:k(()=>[m(c)]),_:1}),f("i",{class:w(e.ns.e("actions__divider"))},null,2),m(d,{onClick:e.toggleMode},{default:k(()=>[(p(),ue(Je(e.mode.icon)))]),_:1},8,["onClick"]),f("i",{class:w(e.ns.e("actions__divider"))},null,2),m(d,{onClick:t[6]||(t[6]=u=>e.handleActions("anticlockwise"))},{default:k(()=>[m(I)]),_:1}),m(d,{onClick:t[7]||(t[7]=u=>e.handleActions("clockwise"))},{default:k(()=>[m(N)]),_:1})],2)],2),M(" CANVAS "),f("div",{class:w(e.ns.e("canvas"))},[(p(!0),C(de,null,Ke(e.urlList,(u,A)=>We((p(),C("img",{ref_for:!0,ref:z=>e.imgRefs[A]=z,key:u,src:u,style:fe(e.imgStyle),class:w(e.ns.e("img")),onLoad:t[8]||(t[8]=(...z)=>e.handleImgLoad&&e.handleImgLoad(...z)),onError:t[9]||(t[9]=(...z)=>e.handleImgError&&e.handleImgError(...z)),onMousedown:t[10]||(t[10]=(...z)=>e.handleMouseDown&&e.handleMouseDown(...z))},null,46,Ca)),[[Ue,A===e.index]])),128))],2),ee(e.$slots,"default")],6)]),_:3})],8,["disabled"])}var za=Ae(ba,[["render",Ia]]);const Sa=De(za),Ta=Ee({appendToBody:{type:Boolean,default:void 0},hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},lazy:{type:Boolean,default:!1},scrollContainer:{type:he([String,Object])},previewSrcList:{type:he(Array),default:()=>Me([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0}}),ka={error:e=>e instanceof Event,switch:e=>Ne(e),close:()=>!0};let Se="";const La=O({name:"ElImage",components:{ImageViewer:Sa},inheritAttrs:!1,props:Ta,emits:ka,setup(e,{emit:t,attrs:n}){dt({scope:"el-image",from:"append-to-body",replacement:"preview-teleported",version:"2.2.0",ref:"https://element-plus.org/en-US/component/image.html#image-attributess"},_(()=>ot(e.appendToBody)));const{t:a}=Fe(),s=Oe("image"),i=ft(),v=y(!1),d=y(!0),S=y(0),$=y(0),T=y(!1),c=y(),I=y();let N,u;const A=_(()=>n.style),z=_(()=>{const{fit:r}=e;return H&&r?{objectFit:r}:{}}),W=_(()=>{const{previewSrcList:r}=e;return Array.isArray(r)&&r.length>0}),U=_(()=>e.appendToBody||e.previewTeleported),ae=_(()=>{const{previewSrcList:r,initialIndex:l}=e;let h=l;return l>r.length-1&&(h=0),h}),j=()=>{if(!H)return;d.value=!0,v.value=!1;const r=new Image,l=e.src;r.addEventListener("load",h=>{l===e.src&&re(h,r)}),r.addEventListener("error",h=>{l===e.src&&oe(h)}),Object.entries(i.value).forEach(([h,b])=>{h.toLowerCase()!=="onload"&&r.setAttribute(h,b)}),r.src=l};function re(r,l){S.value=l.width,$.value=l.height,d.value=!1,v.value=!1}function oe(r){d.value=!1,v.value=!0,t("error",r)}function q(){Mn(c.value,I.value)&&(j(),Z())}const X=it(q,200);async function G(){var r;if(!H)return;await ke();const{scrollContainer:l}=e;st(l)?I.value=l:et(l)&&l!==""?I.value=(r=document.querySelector(l))!=null?r:void 0:c.value&&(I.value=vt(c.value)),I.value&&(N=B(I,"scroll",X),setTimeout(()=>q(),100))}function Z(){!H||!I.value||!X||(N(),I.value=void 0)}function Q(r){if(!!r.ctrlKey){if(r.deltaY<0)return r.preventDefault(),!1;if(r.deltaY>0)return r.preventDefault(),!1}}function D(){!W.value||(u=B("wheel",Q,{passive:!1}),Se=document.body.style.overflow,document.body.style.overflow="hidden",T.value=!0)}function o(){u==null||u(),document.body.style.overflow=Se,T.value=!1,t("close")}function g(r){t("switch",r)}return ce(()=>e.src,()=>{e.lazy?(d.value=!0,v.value=!1,Z(),G()):j()}),Le(()=>{e.lazy?G():j()}),{attrs:i,loading:d,hasLoadError:v,showViewer:T,containerStyle:A,imageStyle:z,preview:W,imageIndex:ae,container:c,ns:s,teleported:U,clickHandler:D,closeViewer:o,switchViewer:g,t:a}}}),Ea=["src"],Ma={key:0};function Oa(e,t,n,a,s,i){const v=E("image-viewer");return p(),C("div",{ref:"container",class:w([e.ns.b(),e.$attrs.class]),style:fe(e.containerStyle)},[e.loading?ee(e.$slots,"placeholder",{key:0},()=>[f("div",{class:w(e.ns.e("placeholder"))},null,2)]):e.hasLoadError?ee(e.$slots,"error",{key:1},()=>[f("div",{class:w(e.ns.e("error"))},tt(e.t("el.image.error")),3)]):(p(),C("img",nt({key:2},e.attrs,{src:e.src,style:e.imageStyle,class:[e.ns.e("inner"),e.preview?e.ns.e("preview"):""],onClick:t[0]||(t[0]=(...d)=>e.clickHandler&&e.clickHandler(...d))}),null,16,Ea)),e.preview?(p(),C(de,{key:3},[e.showViewer?(p(),ue(v,{key:0,"z-index":e.zIndex,"initial-index":e.imageIndex,"url-list":e.previewSrcList,"hide-on-click-modal":e.hideOnClickModal,teleported:e.teleported,onClose:e.closeViewer,onSwitch:e.switchViewer},{default:k(()=>[e.$slots.viewer?(p(),C("div",Ma,[ee(e.$slots,"viewer")])):M("v-if",!0)]),_:3},8,["z-index","initial-index","url-list","hide-on-click-modal","teleported","onClose","onSwitch"])):M("v-if",!0)],2112)):M("v-if",!0)],6)}var Na=Ae(La,[["render",Oa]]);const Ha=De(Na);export{Ha as E,Fe as u};
